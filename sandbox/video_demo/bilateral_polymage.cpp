#include <stdio.h>
#include <stdlib.h>
#include <malloc.h>
#include <cmath>
#include <string.h>
#define isl_min(x,y) ((x) < (y) ? (x) : (y))
#define isl_max(x,y) ((x) > (y) ? (x) : (y))
#define isl_floord(n,d) (((n)<0) ? -((-(n)+(d)-1)/(d)) : (n)/(d))
extern "C" void  pipeline_bilateral(int  C, int  R, void * input_void_arg, void * filtered_void_arg)
{
  unsigned char * input_orig;
  input_orig = (unsigned char *) (input_void_arg);
  float * filtered;
  filtered = (float *) (filtered_void_arg);

  unsigned char * input;
  input = (unsigned char *) (malloc((sizeof(unsigned char) * (R * C * 3))));
  float * gray;
  gray = (float *) (malloc((sizeof(float ) * (R * C))));
  float * grid;
  grid = (float *) (malloc((sizeof(float ) * (((2 * (((((R - 1) / 8) - 1) - 1) + 1)) * (((((C - 1) / 8) - 1) - 1) + 1)) * 15))));
  float * blurx;
  blurx = (float *) (malloc((sizeof(float ) * (((2 * (((((R - 1) / 8) - 3) - 3) + 1)) * (((((C - 1) / 8) - 1) - 1) + 1)) * 11))));
  float * interpolated;
  interpolated = (float *) (malloc((sizeof(float ) * ((2 * (-56 + R)) * (-56 + C)))));

  int _R = R-56;
  int _C = C-56;
  for (int _i0 = 24; _i0 < _R+24; _i0++)
  {
    for (int _i1 = 24; _i1 < _C+24; _i1++)
    {
      for (int _i2 = 0; _i2 <= 2; _i2++)
      {
        input[_i0 * C * 3 + _i1 * 3 + _i2] = input_orig[(_i0-24)*(_C)*3 + (_i1-24)*3 + _i2];
      }
    }
  }
  for (int _i0 = 24; _i0 < _R+24; _i0++)
  {
    for (int _i1 = 0; _i1 < 24; _i1++)
    {
      for (int _i2 = 0; _i2 <= 2; _i2++)
      {
        input[_i0 * C * 3 + _i1 * 3 + _i2] = input[(_i0) * C * 3 + 24 * 3 + _i2];
      }
    }
  }
  for (int _i0 = 24; _i0 < _R+24; _i0++)
  {
    for (int _i1 = _C+24; _i1 < C; _i1++)
    {
      for (int _i2 = 0; _i2 <= 2; _i2++)
      {
        input[_i0 * C * 3 + _i1 * 3 + _i2] = input[(_i0) * C * 3 + (_C+15) * 3 + _i2];
      }
    }
  }

  for (int _i0 = 0; _i0 < 24; _i0++)
  {
    for (int _i1 = 0; _i1 < 24; _i1++)
    {
      for (int _i2 = 0; _i2 <= 2; _i2++)
      {
        input[_i0 * C * 3 + _i1 * 3 + _i2] = input[24 * C * 3 + 24 * 3 + _i2];
      }
    }
  }
  for (int _i0 = 0; _i0 < 24; _i0++)
  {
    for (int _i1 = 24; _i1 < _C+24; _i1++)
    {
      for (int _i2 = 0; _i2 <= 2; _i2++)
      {
        input[_i0 * C * 3 + _i1 * 3 + _i2] = input[24 * C * 3 + _i1 * 3 + _i2];
      }
    }
  }
  for (int _i0 = 0; _i0 < 24; _i0++)
  {
    for (int _i1 = _C+24; _i1 < C; _i1++)
    {
      for (int _i2 = 0; _i2 <= 2; _i2++)
      {
        input[_i0 * C * 3 + _i1 * 3 + _i2] = input[24 * C * 3 + (_C+15) * 3 + _i2];
      }
    }
  }

  for (int _i0 = _R+24; _i0 < R; _i0++)
  {
    for (int _i1 = 0; _i1 < 24; _i1++)
    {
      for (int _i2 = 0; _i2 <= 2; _i2++)
      {
        input[_i0 * C * 3 + _i1 * 3 + _i2] = input[(_R+15) * C * 3 + 24 * 3 + _i2];
      }
    }
  }
  for (int _i0 = _R+24; _i0 < R; _i0++)
  {
    for (int _i1 = 24; _i1 < _C+24; _i1++)
    {
      for (int _i2 = 0; _i2 <= 2; _i2++)
      {
        input[_i0 * C * 3 + _i1 * 3 + _i2] = input[(_R+15) * C + _i1 * 3 + _i2];
      }
    }
  }
  for (int _i0 = _R+24; _i0 < R; _i0++)
  {
    for (int _i1 = _C+24; _i1 < C; _i1++)
    {
      for (int _i2 = 0; _i2 <= 2; _i2++)
      {
        input[_i0 * C * 3 + _i1 * 3 + _i2] = input[(_R+15) * C * 3 + (_C+15) * 3 + _i2];
      }
    }
  }

  #pragma omp parallel for schedule(static)
  for (int  _i1 = 0; (_i1 < R); _i1 = (_i1 + 1))
  {
    for (int  _i2 = 0; (_i2 < C); _i2 = (_i2 + 1))
    {
      gray[((_i1 * C) + _i2)] = ((((input[((_i1 * (C * 3)) + (_i2 * 3))] * 0.114f) + (input[(((_i1 * (C * 3)) + (_i2 * 3)) + 1)] * 0.587f)) + (input[(((_i1 * (C * 3)) + (_i2 * 3)) + 2)] * 0.299f)) / 256.0f);
    }
  }
  for (int  _i0 = 0; (_i0 <= 1); _i0 = (_i0 + 1))
  {
    for (int  _i1 = 1; (_i1 < ((R - 1) / 8)); _i1 = (_i1 + 1))
    {
      for (int  _i2 = 1; (_i2 < ((C - 1) / 8)); _i2 = (_i2 + 1))
      {
        for (int  _i3 = 0; (_i3 <= 14); _i3 = (_i3 + 1))
        {
          grid[((((_i0 * (((((((R - 1) / 8) - 1) - 1) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 15)) + ((_i1 - 1) * ((((((C - 1) / 8) - 1) - 1) + 1) * 15))) + ((_i2 - 1) * 15)) + _i3)] = 0;
        }
      }
    }
  }
  #pragma omp parallel for schedule(static)
  for (int  _i0 = 1; (_i0 < ((R - 1) / 8)); _i0 = (_i0 + 1))
  {
    for (int  _i1 = 1; (_i1 < ((C - 1) / 8)); _i1 = (_i1 + 1))
    {
      for (int  _i2 = 0; (_i2 <= 8); _i2 = (_i2 + 1))
      {
        for (int  _i3 = 0; (_i3 <= 8); _i3 = (_i3 + 1))
        {
          grid[((((0 * (((((((R - 1) / 8) - 1) - 1) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 15)) + ((-1 + _i0) * ((((((C - 1) / 8) - 1) - 1) + 1) * 15))) + ((-1 + _i1) * 15)) + (2 + (int ) (((gray[((((-4 + _i2) + (8 * _i0)) * C) + ((-4 + (8 * _i1)) + _i3))] * 10) + 0.5f))))] = (grid[((((0 * (((((((R - 1) / 8) - 1) - 1) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 15)) + ((-1 + _i0) * ((((((C - 1) / 8) - 1) - 1) + 1) * 15))) + ((-1 + _i1) * 15)) + (2 + (int ) (((gray[((((-4 + _i2) + (8 * _i0)) * C) + ((-4 + (8 * _i1)) + _i3))] * 10) + 0.5f))))] + gray[((((-4 + _i2) + (8 * _i0)) * C) + ((-4 + (8 * _i1)) + _i3))]);
          grid[((((1 * (((((((R - 1) / 8) - 1) - 1) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 15)) + ((-1 + _i0) * ((((((C - 1) / 8) - 1) - 1) + 1) * 15))) + ((-1 + _i1) * 15)) + (2 + (int ) (((gray[((((-4 + _i2) + (8 * _i0)) * C) + ((-4 + (8 * _i1)) + _i3))] * 10) + 0.5f))))] = (grid[((((1 * (((((((R - 1) / 8) - 1) - 1) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 15)) + ((-1 + _i0) * ((((((C - 1) / 8) - 1) - 1) + 1) * 15))) + ((-1 + _i1) * 15)) + (2 + (int ) (((gray[((((-4 + _i2) + (8 * _i0)) * C) + ((-4 + (8 * _i1)) + _i3))] * 10) + 0.5f))))] + 1);
        }
      }
    }
  }
  #pragma omp parallel for schedule(static)
  for (int  _T_i1 = -1; (_T_i1 <= ((R - 9) / 128)); _T_i1 = (_T_i1 + 1))
  {
    float  blurz[2][20][256][11];
    for (int  _T_i2 = 0; (_T_i2 <= ((C - 9) / 2048)); _T_i2 = (_T_i2 + 1))
    {
      for (int  _i0 = 0; (_i0 <= 1); _i0 = (_i0 + 1))
      {
        int  _ct0 = ((((16 * _T_i1) + 19) < (((R - 1) / 8) - 1))? ((16 * _T_i1) + 19): (((R - 1) / 8) - 1));
        int  _ct1 = ((1 > (16 * _T_i1))? 1: (16 * _T_i1));
        for (int  _i1 = _ct1; (_i1 <= _ct0); _i1 = (_i1 + 1))
        {
          int  _ct2 = ((((256 * _T_i2) + 255) < (((C - 1) / 8) - 1))? ((256 * _T_i2) + 255): (((C - 1) / 8) - 1));
          int  _ct3 = ((1 > (256 * _T_i2))? 1: (256 * _T_i2));
          #pragma ivdep
          for (int  _i2 = _ct3; (_i2 <= _ct2); _i2 = (_i2 + 1))
          {
            for (int  _i3 = 2; (_i3 <= 12); _i3 = (_i3 + 1))
            {
              blurz[_i0][((-16 * _T_i1) + _i1)][((-256 * _T_i2) + _i2)][(_i3 - 2)] = ((((grid[((((_i0 * (((((((R - 1) / 8) - 1) - 1) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 15)) + ((-1 + _i1) * ((((((C - 1) / 8) - 1) - 1) + 1) * 15))) + ((-1 + _i2) * 15)) + (-2 + _i3))] + (4 * grid[((((_i0 * (((((((R - 1) / 8) - 1) - 1) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 15)) + ((-1 + _i1) * ((((((C - 1) / 8) - 1) - 1) + 1) * 15))) + ((-1 + _i2) * 15)) + (-1 + _i3))])) + (6 * grid[((((_i0 * (((((((R - 1) / 8) - 1) - 1) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 15)) + ((-1 + _i1) * ((((((C - 1) / 8) - 1) - 1) + 1) * 15))) + ((-1 + _i2) * 15)) + _i3)])) + (4 * grid[((((_i0 * (((((((R - 1) / 8) - 1) - 1) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 15)) + ((-1 + _i1) * ((((((C - 1) / 8) - 1) - 1) + 1) * 15))) + ((-1 + _i2) * 15)) + (1 + _i3))])) + grid[((((_i0 * (((((((R - 1) / 8) - 1) - 1) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 15)) + ((-1 + _i1) * ((((((C - 1) / 8) - 1) - 1) + 1) * 15))) + ((-1 + _i2) * 15)) + (2 + _i3))]);
            }
          }
        }
      }
      for (int  _i0 = 0; (_i0 <= 1); _i0 = (_i0 + 1))
      {
        int  _ct4 = ((((16 * _T_i1) + 17) < (((R - 1) / 8) - 3))? ((16 * _T_i1) + 17): (((R - 1) / 8) - 3));
        int  _ct5 = ((3 > ((16 * _T_i1) + 2))? 3: ((16 * _T_i1) + 2));
        for (int  _i1 = _ct5; (_i1 <= _ct4); _i1 = (_i1 + 1))
        {
          int  _ct6 = ((((256 * _T_i2) + 255) < (((C - 1) / 8) - 1))? ((256 * _T_i2) + 255): (((C - 1) / 8) - 1));
          int  _ct7 = ((1 > (256 * _T_i2))? 1: (256 * _T_i2));
          #pragma ivdep
          for (int  _i2 = _ct7; (_i2 <= _ct6); _i2 = (_i2 + 1))
          {
            for (int  _i3 = 2; (_i3 <= 12); _i3 = (_i3 + 1))
            {
              blurx[((((_i0 * (((((((R - 1) / 8) - 3) - 3) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 11)) + ((_i1 - 3) * ((((((C - 1) / 8) - 1) - 1) + 1) * 11))) + ((_i2 - 1) * 11)) + (_i3 - 2))] = ((((blurz[_i0][(-2 + ((-16 * _T_i1) + _i1))][((-256 * _T_i2) + _i2)][(-2 + _i3)] + (4 * blurz[_i0][(-1 + ((-16 * _T_i1) + _i1))][((-256 * _T_i2) + _i2)][(-2 + _i3)])) + (6 * blurz[_i0][((-16 * _T_i1) + _i1)][((-256 * _T_i2) + _i2)][(-2 + _i3)])) + (4 * blurz[_i0][(1 + ((-16 * _T_i1) + _i1))][((-256 * _T_i2) + _i2)][(-2 + _i3)])) + blurz[_i0][(2 + ((-16 * _T_i1) + _i1))][((-256 * _T_i2) + _i2)][(-2 + _i3)]);
            }
          }
        }
      }
    }
  }
  #pragma omp parallel for schedule(static)
  for (int  _T_i1 = 1; (_T_i1 < (((R + 7) / 16) - 1)); _T_i1 = (_T_i1 + 1))
  {
    float  blury[2][3][33][11];
    for (int  _T_i2 = 0; (_T_i2 <= ((C - 25) / 256)); _T_i2 = (_T_i2 + 1))
    {
      for (int  _i0 = 0; (_i0 <= 1); _i0 = (_i0 + 1))
      {
        int  _ct8 = (((R - 25) < ((16 * _T_i1) + 16))? (R - 25): ((16 * _T_i1) + 16));
        int  _ct9 = ((24 > (16 * _T_i1))? 24: (16 * _T_i1));
        for (int  _i1 = _ct9; (_i1 <= _ct8); _i1 = (_i1 + 8))
        {
          int  _ct10 = (((C - 25) < ((256 * _T_i2) + 256))? (C - 25): ((256 * _T_i2) + 256));
          int  _ct11 = ((24 > (256 * _T_i2))? 24: (256 * _T_i2));
          #pragma ivdep
          for (int  _i2 = _ct11; (_i2 <= _ct10); _i2 = (_i2 + 8))
          {
            for (int  _i3 = 2; (_i3 <= 12); _i3 = (_i3 + 1))
            {
              blury[_i0][((_i1 / 8) - (2 * _T_i1))][((_i2 / 8) - (32 * _T_i2))][(_i3 - 2)] = ((((blurx[((((_i0 * (((((((R - 1) / 8) - 3) - 3) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 11)) + ((-3 + (_i1 / 8)) * ((((((C - 1) / 8) - 1) - 1) + 1) * 11))) + ((-3 + (_i2 / 8)) * 11)) + (-2 + _i3))] + (4 * blurx[((((_i0 * (((((((R - 1) / 8) - 3) - 3) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 11)) + ((-3 + (_i1 / 8)) * ((((((C - 1) / 8) - 1) - 1) + 1) * 11))) + ((-2 + (_i2 / 8)) * 11)) + (-2 + _i3))])) + (6 * blurx[((((_i0 * (((((((R - 1) / 8) - 3) - 3) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 11)) + ((-3 + (_i1 / 8)) * ((((((C - 1) / 8) - 1) - 1) + 1) * 11))) + ((-1 + (_i2 / 8)) * 11)) + (-2 + _i3))])) + (4 * blurx[((((_i0 * (((((((R - 1) / 8) - 3) - 3) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 11)) + ((-3 + (_i1 / 8)) * ((((((C - 1) / 8) - 1) - 1) + 1) * 11))) + ((_i2 / 8) * 11)) + (-2 + _i3))])) + blurx[((((_i0 * (((((((R - 1) / 8) - 3) - 3) + 1) * (((((C - 1) / 8) - 1) - 1) + 1)) * 11)) + ((-3 + (_i1 / 8)) * ((((((C - 1) / 8) - 1) - 1) + 1) * 11))) + ((1 + (_i2 / 8)) * 11)) + (-2 + _i3))]);
            }
          }
        }
      }
      for (int  _i0 = 0; (_i0 <= 1); _i0 = (_i0 + 1))
      {
        int  _ct12 = (((R - 33) < ((16 * _T_i1) + 15))? (R - 33): ((16 * _T_i1) + 15));
        int  _ct13 = ((24 > (16 * _T_i1))? 24: (16 * _T_i1));
        for (int  _i1 = _ct13; (_i1 <= _ct12); _i1 = (_i1 + 1))
        {
          int  _ct14 = (((C - 33) < ((256 * _T_i2) + 255))? (C - 33): ((256 * _T_i2) + 255));
          int  _ct15 = ((24 > (256 * _T_i2))? 24: (256 * _T_i2));
          #pragma ivdep
          for (int  _i2 = _ct15; (_i2 <= _ct14); _i2 = (_i2 + 1))
          {
            interpolated[(((_i0 * ((-56 + R) * (-56 + C))) + ((_i1 - 24) * (-56 + C))) + (_i2 - 24))] = (((blury[_i0][(((-16 * _T_i1) + _i1) / 8)][(((-256 * _T_i2) + _i2) / 8)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)] + (((float ) ((_i1 % 8)) / 8) * (blury[_i0][((((-16 * _T_i1) + _i1) / 8) + 1)][(((-256 * _T_i2) + _i2) / 8)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)] - blury[_i0][(((-16 * _T_i1) + _i1) / 8)][(((-256 * _T_i2) + _i2) / 8)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)]))) + (((float ) ((_i2 % 8)) / 8) * ((blury[_i0][(((-16 * _T_i1) + _i1) / 8)][((((-256 * _T_i2) + _i2) / 8) + 1)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)] + (((float ) ((_i1 % 8)) / 8) * (blury[_i0][((((-16 * _T_i1) + _i1) / 8) + 1)][((((-256 * _T_i2) + _i2) / 8) + 1)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)] - blury[_i0][(((-16 * _T_i1) + _i1) / 8)][((((-256 * _T_i2) + _i2) / 8) + 1)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)]))) - (blury[_i0][(((-16 * _T_i1) + _i1) / 8)][(((-256 * _T_i2) + _i2) / 8)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)] + (((float ) ((_i1 % 8)) / 8) * (blury[_i0][((((-16 * _T_i1) + _i1) / 8) + 1)][(((-256 * _T_i2) + _i2) / 8)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)] - blury[_i0][(((-16 * _T_i1) + _i1) / 8)][(((-256 * _T_i2) + _i2) / 8)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)])))))) + (((gray[((_i1 * C) + _i2)] * 10) - (int ) ((gray[((_i1 * C) + _i2)] * 10))) * (((blury[_i0][(((-16 * _T_i1) + _i1) / 8)][(((-256 * _T_i2) + _i2) / 8)][(((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) + 1) - 2)] + (((float ) ((_i1 % 8)) / 8) * (blury[_i0][((((-16 * _T_i1) + _i1) / 8) + 1)][(((-256 * _T_i2) + _i2) / 8)][(((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) + 1) - 2)] - blury[_i0][(((-16 * _T_i1) + _i1) / 8)][(((-256 * _T_i2) + _i2) / 8)][(((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) + 1) - 2)]))) + (((float ) ((_i2 % 8)) / 8) * ((blury[_i0][(((-16 * _T_i1) + _i1) / 8)][((((-256 * _T_i2) + _i2) / 8) + 1)][(((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) + 1) - 2)] + (((float ) ((_i1 % 8)) / 8) * (blury[_i0][((((-16 * _T_i1) + _i1) / 8) + 1)][((((-256 * _T_i2) + _i2) / 8) + 1)][(((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) + 1) - 2)] - blury[_i0][(((-16 * _T_i1) + _i1) / 8)][((((-256 * _T_i2) + _i2) / 8) + 1)][(((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) + 1) - 2)]))) - (blury[_i0][(((-16 * _T_i1) + _i1) / 8)][(((-256 * _T_i2) + _i2) / 8)][(((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) + 1) - 2)] + (((float ) ((_i1 % 8)) / 8) * (blury[_i0][((((-16 * _T_i1) + _i1) / 8) + 1)][(((-256 * _T_i2) + _i2) / 8)][(((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) + 1) - 2)] - blury[_i0][(((-16 * _T_i1) + _i1) / 8)][(((-256 * _T_i2) + _i2) / 8)][(((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) + 1) - 2)])))))) - ((blury[_i0][(((-16 * _T_i1) + _i1) / 8)][(((-256 * _T_i2) + _i2) / 8)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)] + (((float ) ((_i1 % 8)) / 8) * (blury[_i0][((((-16 * _T_i1) + _i1) / 8) + 1)][(((-256 * _T_i2) + _i2) / 8)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)] - blury[_i0][(((-16 * _T_i1) + _i1) / 8)][(((-256 * _T_i2) + _i2) / 8)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)]))) + (((float ) ((_i2 % 8)) / 8) * ((blury[_i0][(((-16 * _T_i1) + _i1) / 8)][((((-256 * _T_i2) + _i2) / 8) + 1)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)] + (((float ) ((_i1 % 8)) / 8) * (blury[_i0][((((-16 * _T_i1) + _i1) / 8) + 1)][((((-256 * _T_i2) + _i2) / 8) + 1)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)] - blury[_i0][(((-16 * _T_i1) + _i1) / 8)][((((-256 * _T_i2) + _i2) / 8) + 1)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)]))) - (blury[_i0][(((-16 * _T_i1) + _i1) / 8)][(((-256 * _T_i2) + _i2) / 8)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)] + (((float ) ((_i1 % 8)) / 8) * (blury[_i0][((((-16 * _T_i1) + _i1) / 8) + 1)][(((-256 * _T_i2) + _i2) / 8)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)] - blury[_i0][(((-16 * _T_i1) + _i1) / 8)][(((-256 * _T_i2) + _i2) / 8)][((2 + (int ) ((gray[((_i1 * C) + _i2)] * 10))) - 2)])))))))));
          }
        }
      }
    }
  }
  #pragma omp parallel for schedule(static)
  for (int  _i1 = 24; (_i1 < (R - 32)); _i1 = (_i1 + 1))
  {
    #pragma ivdep
    for (int  _i2 = 24; (_i2 < (C - 32)); _i2 = (_i2 + 1))
    {
      float  _ct16 = (interpolated[(((0 * ((-56 + R) * (-56 + C))) + ((-24 + _i1) * (-56 + C))) + (-24 + _i2))] / interpolated[(((1 * ((-56 + R) * (-56 + C))) + ((-24 + _i1) * (-56 + C))) + (-24 + _i2))]);
      float  _ct17 = gray[((_i1 * C) + _i2)];
      float  _ct18 = ((interpolated[(((1 * ((-56 + R) * (-56 + C))) + ((-24 + _i1) * (-56 + C))) + (-24 + _i2))] > 0)? _ct16: _ct17);
      filtered[((0 + ((_i1 - 24) * (-56 + C))) + (_i2 - 24))] = _ct18;
    }
  }
  free(input);
  free(gray);
  free(grid);
  free(blurx);
  free(interpolated);
}
