#include <stdio.h>
#include <stdlib.h>
#include <malloc.h>
#include <cmath>
#include <string.h>
#define isl_min(x,y) ((x) < (y) ? (x) : (y))
#define isl_max(x,y) ((x) > (y) ? (x) : (y))
#define isl_floord(n,d) (((n)<0) ? -((-(n)+(d)-1)/(d)) : (n)/(d))
extern "C" void  pipeline_harris(int  C, int  R, void * img_void_arg, void * harris_void_arg)
{
  unsigned char * img;
  img = (unsigned char *) (img_void_arg);
  float * harris;
  harris = (float *) (harris_void_arg);
  #pragma omp parallel for schedule(static)
  for (int  _T_i0 = -1; (_T_i0 <= 33); _T_i0 = (_T_i0 + 1))
  {
    float * gray;
    gray = (float *) (malloc((sizeof(float ) * 5796)));
    float * Ix;
    Ix = (float *) (malloc((sizeof(float ) * 5796)));
    float * Iy;
    Iy = (float *) (malloc((sizeof(float ) * 5796)));
    float * Ixx;
    Ixx = (float *) (malloc((sizeof(float ) * 5796)));
    float * Iyy;
    Iyy = (float *) (malloc((sizeof(float ) * 5796)));
    float * Ixy;
    Ixy = (float *) (malloc((sizeof(float ) * 5796)));
    float * Syy;
    Syy = (float *) (malloc((sizeof(float ) * 5796)));
    float * Sxy;
    Sxy = (float *) (malloc((sizeof(float ) * 5796)));
    float * Sxx;
    Sxx = (float *) (malloc((sizeof(float ) * 5796)));
    float * trace;
    trace = (float *) (malloc((sizeof(float ) * 5796)));
    float * det;
    det = (float *) (malloc((sizeof(float ) * 5796)));
    for (int  _T_i1 = -1; (_T_i1 <= 14); _T_i1 = (_T_i1 + 1))
    {
      int  _ct2184 = ((1079 < ((32 * _T_i0) + 41))? 1079: ((32 * _T_i0) + 41));
      int  _ct2185 = ((0 > (32 * _T_i0))? 0: (32 * _T_i0));
      for (int  _i0 = _ct2185; (_i0 <= _ct2184); _i0 = (_i0 + 1))
      {
        int  _ct2186 = ((1919 < ((128 * _T_i1) + 137))? 1919: ((128 * _T_i1) + 137));
        int  _ct2187 = ((0 > (128 * _T_i1))? 0: (128 * _T_i1));
        #pragma ivdep
        for (int  _i1 = _ct2187; (_i1 <= _ct2186); _i1 = (_i1 + 1))
        {
          gray[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] = ((((img[((_i0 * ((C + 2) * 3)) + (_i1 * 3))] * 0.114f) + (img[(((_i0 * ((C + 2) * 3)) + (_i1 * 3)) + 1)] * 0.587f)) + (img[(((_i0 * ((C + 2) * 3)) + (_i1 * 3)) + 2)] * 0.299f)) / 255.0f);
        }
      }
      int  _ct2188 = ((1078 < ((32 * _T_i0) + 40))? 1078: ((32 * _T_i0) + 40));
      int  _ct2189 = ((1 > ((32 * _T_i0) + 1))? 1: ((32 * _T_i0) + 1));
      for (int  _i0 = _ct2189; (_i0 <= _ct2188); _i0 = (_i0 + 1))
      {
        int  _ct2190 = ((1918 < ((128 * _T_i1) + 136))? 1918: ((128 * _T_i1) + 136));
        int  _ct2191 = ((1 > ((128 * _T_i1) + 1))? 1: ((128 * _T_i1) + 1));
        #pragma ivdep
        for (int  _i1 = _ct2191; (_i1 <= _ct2190); _i1 = (_i1 + 1))
        {
          Ix[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] = ((((((gray[(((-1 + ((-32 * _T_i0) + _i0)) * 138) + (-1 + ((-128 * _T_i1) + _i1)))] * -0.0833333333333f) + (gray[(((1 + ((-32 * _T_i0) + _i0)) * 138) + (-1 + ((-128 * _T_i1) + _i1)))] * 0.0833333333333f)) + (gray[(((-1 + ((-32 * _T_i0) + _i0)) * 138) + ((-128 * _T_i1) + _i1))] * -0.166666666667f)) + (gray[(((1 + ((-32 * _T_i0) + _i0)) * 138) + ((-128 * _T_i1) + _i1))] * 0.166666666667f)) + (gray[(((-1 + ((-32 * _T_i0) + _i0)) * 138) + (1 + ((-128 * _T_i1) + _i1)))] * -0.0833333333333f)) + (gray[(((1 + ((-32 * _T_i0) + _i0)) * 138) + (1 + ((-128 * _T_i1) + _i1)))] * 0.0833333333333f));
        }
      }
      int  _ct2192 = ((1078 < ((32 * _T_i0) + 40))? 1078: ((32 * _T_i0) + 40));
      int  _ct2193 = ((1 > ((32 * _T_i0) + 1))? 1: ((32 * _T_i0) + 1));
      for (int  _i0 = _ct2193; (_i0 <= _ct2192); _i0 = (_i0 + 1))
      {
        int  _ct2194 = ((1918 < ((128 * _T_i1) + 136))? 1918: ((128 * _T_i1) + 136));
        int  _ct2195 = ((1 > ((128 * _T_i1) + 1))? 1: ((128 * _T_i1) + 1));
        #pragma ivdep
        for (int  _i1 = _ct2195; (_i1 <= _ct2194); _i1 = (_i1 + 1))
        {
          Iy[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] = ((((((gray[(((-1 + ((-32 * _T_i0) + _i0)) * 138) + (-1 + ((-128 * _T_i1) + _i1)))] * -0.0833333333333f) + (gray[(((-1 + ((-32 * _T_i0) + _i0)) * 138) + (1 + ((-128 * _T_i1) + _i1)))] * 0.0833333333333f)) + (gray[((((-32 * _T_i0) + _i0) * 138) + (-1 + ((-128 * _T_i1) + _i1)))] * -0.166666666667f)) + (gray[((((-32 * _T_i0) + _i0) * 138) + (1 + ((-128 * _T_i1) + _i1)))] * 0.166666666667f)) + (gray[(((1 + ((-32 * _T_i0) + _i0)) * 138) + (-1 + ((-128 * _T_i1) + _i1)))] * -0.0833333333333f)) + (gray[(((1 + ((-32 * _T_i0) + _i0)) * 138) + (1 + ((-128 * _T_i1) + _i1)))] * 0.0833333333333f));
        }
      }
      int  _ct2196 = ((1078 < ((32 * _T_i0) + 39))? 1078: ((32 * _T_i0) + 39));
      int  _ct2197 = ((1 > ((32 * _T_i0) + 2))? 1: ((32 * _T_i0) + 2));
      for (int  _i0 = _ct2197; (_i0 <= _ct2196); _i0 = (_i0 + 1))
      {
        int  _ct2198 = ((1918 < ((128 * _T_i1) + 135))? 1918: ((128 * _T_i1) + 135));
        int  _ct2199 = ((1 > ((128 * _T_i1) + 2))? 1: ((128 * _T_i1) + 2));
        #pragma ivdep
        for (int  _i1 = _ct2199; (_i1 <= _ct2198); _i1 = (_i1 + 1))
        {
          Ixx[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] = (Ix[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] * Ix[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))]);
        }
      }
      int  _ct2200 = ((1078 < ((32 * _T_i0) + 39))? 1078: ((32 * _T_i0) + 39));
      int  _ct2201 = ((1 > ((32 * _T_i0) + 2))? 1: ((32 * _T_i0) + 2));
      for (int  _i0 = _ct2201; (_i0 <= _ct2200); _i0 = (_i0 + 1))
      {
        int  _ct2202 = ((1918 < ((128 * _T_i1) + 135))? 1918: ((128 * _T_i1) + 135));
        int  _ct2203 = ((1 > ((128 * _T_i1) + 2))? 1: ((128 * _T_i1) + 2));
        #pragma ivdep
        for (int  _i1 = _ct2203; (_i1 <= _ct2202); _i1 = (_i1 + 1))
        {
          Iyy[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] = (Iy[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] * Iy[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))]);
        }
      }
      int  _ct2204 = ((1078 < ((32 * _T_i0) + 39))? 1078: ((32 * _T_i0) + 39));
      int  _ct2205 = ((1 > ((32 * _T_i0) + 2))? 1: ((32 * _T_i0) + 2));
      for (int  _i0 = _ct2205; (_i0 <= _ct2204); _i0 = (_i0 + 1))
      {
        int  _ct2206 = ((1918 < ((128 * _T_i1) + 135))? 1918: ((128 * _T_i1) + 135));
        int  _ct2207 = ((1 > ((128 * _T_i1) + 2))? 1: ((128 * _T_i1) + 2));
        #pragma ivdep
        for (int  _i1 = _ct2207; (_i1 <= _ct2206); _i1 = (_i1 + 1))
        {
          Ixy[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] = (Ix[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] * Iy[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))]);
        }
      }
      int  _ct2208 = ((1077 < ((32 * _T_i0) + 38))? 1077: ((32 * _T_i0) + 38));
      int  _ct2209 = ((2 > ((32 * _T_i0) + 3))? 2: ((32 * _T_i0) + 3));
      for (int  _i0 = _ct2209; (_i0 <= _ct2208); _i0 = (_i0 + 1))
      {
        int  _ct2210 = ((1917 < ((128 * _T_i1) + 134))? 1917: ((128 * _T_i1) + 134));
        int  _ct2211 = ((2 > ((128 * _T_i1) + 3))? 2: ((128 * _T_i1) + 3));
        #pragma ivdep
        for (int  _i1 = _ct2211; (_i1 <= _ct2210); _i1 = (_i1 + 1))
        {
          Syy[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] = ((((((((Iyy[(((-1 + ((-32 * _T_i0) + _i0)) * 138) + (-1 + ((-128 * _T_i1) + _i1)))] + Iyy[(((-1 + ((-32 * _T_i0) + _i0)) * 138) + ((-128 * _T_i1) + _i1))]) + Iyy[(((-1 + ((-32 * _T_i0) + _i0)) * 138) + (1 + ((-128 * _T_i1) + _i1)))]) + Iyy[((((-32 * _T_i0) + _i0) * 138) + (-1 + ((-128 * _T_i1) + _i1)))]) + Iyy[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))]) + Iyy[((((-32 * _T_i0) + _i0) * 138) + (1 + ((-128 * _T_i1) + _i1)))]) + Iyy[(((1 + ((-32 * _T_i0) + _i0)) * 138) + (-1 + ((-128 * _T_i1) + _i1)))]) + Iyy[(((1 + ((-32 * _T_i0) + _i0)) * 138) + ((-128 * _T_i1) + _i1))]) + Iyy[(((1 + ((-32 * _T_i0) + _i0)) * 138) + (1 + ((-128 * _T_i1) + _i1)))]);
        }
      }
      int  _ct2212 = ((1077 < ((32 * _T_i0) + 38))? 1077: ((32 * _T_i0) + 38));
      int  _ct2213 = ((2 > ((32 * _T_i0) + 3))? 2: ((32 * _T_i0) + 3));
      for (int  _i0 = _ct2213; (_i0 <= _ct2212); _i0 = (_i0 + 1))
      {
        int  _ct2214 = ((1917 < ((128 * _T_i1) + 134))? 1917: ((128 * _T_i1) + 134));
        int  _ct2215 = ((2 > ((128 * _T_i1) + 3))? 2: ((128 * _T_i1) + 3));
        #pragma ivdep
        for (int  _i1 = _ct2215; (_i1 <= _ct2214); _i1 = (_i1 + 1))
        {
          Sxy[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] = ((((((((Ixy[(((-1 + ((-32 * _T_i0) + _i0)) * 138) + (-1 + ((-128 * _T_i1) + _i1)))] + Ixy[(((-1 + ((-32 * _T_i0) + _i0)) * 138) + ((-128 * _T_i1) + _i1))]) + Ixy[(((-1 + ((-32 * _T_i0) + _i0)) * 138) + (1 + ((-128 * _T_i1) + _i1)))]) + Ixy[((((-32 * _T_i0) + _i0) * 138) + (-1 + ((-128 * _T_i1) + _i1)))]) + Ixy[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))]) + Ixy[((((-32 * _T_i0) + _i0) * 138) + (1 + ((-128 * _T_i1) + _i1)))]) + Ixy[(((1 + ((-32 * _T_i0) + _i0)) * 138) + (-1 + ((-128 * _T_i1) + _i1)))]) + Ixy[(((1 + ((-32 * _T_i0) + _i0)) * 138) + ((-128 * _T_i1) + _i1))]) + Ixy[(((1 + ((-32 * _T_i0) + _i0)) * 138) + (1 + ((-128 * _T_i1) + _i1)))]);
        }
      }
      int  _ct2216 = ((1077 < ((32 * _T_i0) + 38))? 1077: ((32 * _T_i0) + 38));
      int  _ct2217 = ((2 > ((32 * _T_i0) + 3))? 2: ((32 * _T_i0) + 3));
      for (int  _i0 = _ct2217; (_i0 <= _ct2216); _i0 = (_i0 + 1))
      {
        int  _ct2218 = ((1917 < ((128 * _T_i1) + 134))? 1917: ((128 * _T_i1) + 134));
        int  _ct2219 = ((2 > ((128 * _T_i1) + 3))? 2: ((128 * _T_i1) + 3));
        #pragma ivdep
        for (int  _i1 = _ct2219; (_i1 <= _ct2218); _i1 = (_i1 + 1))
        {
          Sxx[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] = ((((((((Ixx[(((-1 + ((-32 * _T_i0) + _i0)) * 138) + (-1 + ((-128 * _T_i1) + _i1)))] + Ixx[(((-1 + ((-32 * _T_i0) + _i0)) * 138) + ((-128 * _T_i1) + _i1))]) + Ixx[(((-1 + ((-32 * _T_i0) + _i0)) * 138) + (1 + ((-128 * _T_i1) + _i1)))]) + Ixx[((((-32 * _T_i0) + _i0) * 138) + (-1 + ((-128 * _T_i1) + _i1)))]) + Ixx[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))]) + Ixx[((((-32 * _T_i0) + _i0) * 138) + (1 + ((-128 * _T_i1) + _i1)))]) + Ixx[(((1 + ((-32 * _T_i0) + _i0)) * 138) + (-1 + ((-128 * _T_i1) + _i1)))]) + Ixx[(((1 + ((-32 * _T_i0) + _i0)) * 138) + ((-128 * _T_i1) + _i1))]) + Ixx[(((1 + ((-32 * _T_i0) + _i0)) * 138) + (1 + ((-128 * _T_i1) + _i1)))]);
        }
      }
      int  _ct2220 = ((1077 < ((32 * _T_i0) + 37))? 1077: ((32 * _T_i0) + 37));
      int  _ct2221 = ((2 > ((32 * _T_i0) + 4))? 2: ((32 * _T_i0) + 4));
      for (int  _i0 = _ct2221; (_i0 <= _ct2220); _i0 = (_i0 + 1))
      {
        int  _ct2222 = ((1917 < ((128 * _T_i1) + 133))? 1917: ((128 * _T_i1) + 133));
        int  _ct2223 = ((2 > ((128 * _T_i1) + 4))? 2: ((128 * _T_i1) + 4));
        #pragma ivdep
        for (int  _i1 = _ct2223; (_i1 <= _ct2222); _i1 = (_i1 + 1))
        {
          trace[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] = (Sxx[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] + Syy[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))]);
        }
      }
      int  _ct2224 = ((1077 < ((32 * _T_i0) + 37))? 1077: ((32 * _T_i0) + 37));
      int  _ct2225 = ((2 > ((32 * _T_i0) + 4))? 2: ((32 * _T_i0) + 4));
      for (int  _i0 = _ct2225; (_i0 <= _ct2224); _i0 = (_i0 + 1))
      {
        int  _ct2226 = ((1917 < ((128 * _T_i1) + 133))? 1917: ((128 * _T_i1) + 133));
        int  _ct2227 = ((2 > ((128 * _T_i1) + 4))? 2: ((128 * _T_i1) + 4));
        #pragma ivdep
        for (int  _i1 = _ct2227; (_i1 <= _ct2226); _i1 = (_i1 + 1))
        {
          det[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] = ((Sxx[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] * Syy[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))]) - (Sxy[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] * Sxy[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))]));
        }
      }
      int  _ct2228 = ((1077 < ((32 * _T_i0) + 36))? 1077: ((32 * _T_i0) + 36));
      int  _ct2229 = ((2 > ((32 * _T_i0) + 5))? 2: ((32 * _T_i0) + 5));
      for (int  _i0 = _ct2229; (_i0 <= _ct2228); _i0 = (_i0 + 1))
      {
        int  _ct2230 = ((1917 < ((128 * _T_i1) + 132))? 1917: ((128 * _T_i1) + 132));
        int  _ct2231 = ((2 > ((128 * _T_i1) + 5))? 2: ((128 * _T_i1) + 5));
        #pragma ivdep
        for (int  _i1 = _ct2231; (_i1 <= _ct2230); _i1 = (_i1 + 1))
        {
          harris[((_i0 * (2 + C)) + _i1)] = (((det[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))] - ((0.04f * trace[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))]) * trace[((((-32 * _T_i0) + _i0) * 138) + ((-128 * _T_i1) + _i1))])) * 65536.0f) * 256.0f);
        }
      }
    }
    free(gray);
    free(Ix);
    free(Iy);
    free(Ixx);
    free(Iyy);
    free(Ixy);
    free(Syy);
    free(Sxy);
    free(Sxx);
    free(trace);
    free(det);
  }
}
